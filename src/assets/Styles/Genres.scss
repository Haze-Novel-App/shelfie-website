



// :root {
//   --orange-vibrant: #ff6b00;
//   --orange-deep: #cc4400;
//   --brand-purple: #341539;
//   --bg-soft-orange: #fdf9f0;
// }

// .genres-section {
//   padding: 30px 0;
//   background-color: var(--bg-soft-orange);
//   width: 100%;
//   overflow: hidden;

//   .genres-track {
//     display: flex;
//     /* THIS IS THE FIX: Forces the container to be exactly the width of all items + gaps */
//     width: max-content; 
//     align-items: center;
//     gap: 30px;
//     padding: 30px 0;
    
//     will-change: transform;
//     transform: translateZ(0);
//     /* Increased from 6s to 20s for a readable, smooth marquee effect */
//     animation: scroll-infinite 20s linear infinite;

//     &:hover {
//       animation-play-state: paused;
//     }
//   }

//   .genre-item {
//     text-align: center;
//     flex-shrink: 0;
//     min-width: 170px;
//     padding: 25px 15px;
//     cursor: pointer;
//     border-radius: 24px;
//     background: transparent;
//     display: flex;
//     flex-direction: column;
//     align-items: center;
//     justify-content: center;
//     transition: all 0.4s ease;
//     backface-visibility: hidden;
//     transform: translateZ(0);

//     .icon-wrapper {
//       margin-bottom: 15px;

//       .genre-icon-img {
//         width: 55px;
//         height: 55px;
//         object-fit: contain;
//         transition: all 0.4s ease;
//       }
//     }

//     h4 {
//       font-family: 'Bebas Neue', sans-serif;
//       font-size: 1.4rem;
//       text-transform: uppercase;
//       margin-bottom: 4px;
//       letter-spacing: 1px;
//     }

//     .genre-desc {
//       font-family: 'Abel', sans-serif;
//       font-size: 0.9rem;
//       font-weight: 600;
//     }

//     /* ORANGE THEME */
//     &:nth-child(odd) {
//       border: 2.5px solid var(--orange-deep);

//       h4,
//       .genre-desc {
//         color: var(--orange-deep);
//       }

//       .genre-icon-img {
//         filter: sepia(1) saturate(5) hue-rotate(-15deg) brightness(0.8);
//       }

//       &:hover {
//         background: rgba(204, 68, 0, 0.05);
//         transform: translateY(-10px);
//         box-shadow: 0 10px 20px rgba(204, 68, 0, 0.15);

//         .genre-icon-img {
//           filter: none;
//           transform: scale(1.1);
//         }
//       }
//     }

//     /* PURPLE THEME */
//     &:nth-child(even) {
//       border: 2.5px solid var(--brand-purple);

//       h4,
//       .genre-desc {
//         color: var(--brand-purple);
//       }

//       .genre-icon-img {
//         filter: sepia(1) saturate(2) hue-rotate(240deg) brightness(0.5);
//       }

//       &:hover {
//         background: rgba(52, 21, 57, 0.05);
//         transform: translateY(-10px);
//         box-shadow: 0 10px 20px rgba(52, 21, 57, 0.15);

//         .genre-icon-img {
//           filter: none;
//           transform: scale(1.1);
//         }
//       }
//     }
//   }
// }

// @keyframes scroll-infinite {
//   0% {
//     transform: translateX(0);
//   }
//   100% {
//     /* Your math here was perfect! It perfectly offsets the 30px gap */
//     transform: translateX(calc(-50% - 15px));
//   }
// }

// /* Mobile Fixes */
// @media (max-width: 768px) {
//   .genre-item {
//     min-width: 130px;
//     padding: 15px 10px;
//     border-width: 2px;

//     h4 {
//       font-size: 1.1rem;
//     }

//     .genre-desc {
//       font-size: 0.75rem;
//     }

//     .icon-wrapper .genre-icon-img {
//       width: 40px;
//       height: 40px;
//     }
//   }
// }

















:root {
  --orange-vibrant: #ff6b00;
  --orange-deep: #cc4400;
  --brand-purple: #341539;
  --bg-soft-orange: #fdf9f0;
}

.genres-section {
  padding: 30px 0;
  background-color: var(--bg-soft-orange);
  width: 100%;
  overflow: hidden;

  .genres-track {
    display: flex;
    width: max-content;
    
    /* FIX 1: Change to stretch. This forces all items to be the exact same height, stopping the vertical center calculation jitter */
    align-items: stretch; 
    gap: 30px;
    padding: 30px 0;
    
    /* FIX 2: translate3d forces the browser to use the GPU for x, y, and z axes, locking the Y axis from wobbling */
    will-change: transform;
    transform: translate3d(0, 0, 0); 
    animation: scroll-infinite 20s linear infinite;

    &:hover {
      animation-play-state: paused;
    }
  }

  .genre-item {
    /* FIX 3: Strict box-sizing ensures border thickness doesn't create fractional heights */
    box-sizing: border-box; 
    text-align: center;
    flex-shrink: 0;
    min-width: 170px;
    padding: 25px 15px;
    cursor: pointer;
    border-radius: 24px;
    background: transparent;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transition: all 0.4s ease;
    
    /* FIX 4: Prevent child text/images from jittering inside the moving container */
    backface-visibility: hidden;
    transform: translate3d(0, 0, 0);
    -webkit-font-smoothing: antialiased;

    .icon-wrapper {
      margin-bottom: 15px;

      .genre-icon-img {
        width: 55px;
        height: 55px;
        object-fit: contain;
        transition: all 0.4s ease;
      }
    }

    h4 {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.4rem;
      text-transform: uppercase;
      margin-bottom: 4px;
      letter-spacing: 1px;
    }

    .genre-desc {
      font-family: 'Abel', sans-serif;
      font-size: 0.9rem;
      font-weight: 600;
    }

    /* ORANGE THEME */
    &:nth-child(odd) {
      border: 2.5px solid var(--orange-deep);

      h4,
      .genre-desc {
        color: var(--orange-deep);
      }

      .genre-icon-img {
        filter: sepia(1) saturate(5) hue-rotate(-15deg) brightness(0.8);
      }

      &:hover {
        background: rgba(204, 68, 0, 0.05);
        transform: translate3d(0, -10px, 0); /* Updated to translate3d */
        box-shadow: 0 10px 20px rgba(204, 68, 0, 0.15);

        .genre-icon-img {
          filter: none;
          transform: scale(1.1);
        }
      }
    }

    /* PURPLE THEME */
    &:nth-child(even) {
      border: 2.5px solid var(--brand-purple);

      h4,
      .genre-desc {
        color: var(--brand-purple);
      }

      .genre-icon-img {
        filter: sepia(1) saturate(2) hue-rotate(240deg) brightness(0.5);
      }

      &:hover {
        background: rgba(52, 21, 57, 0.05);
        transform: translate3d(0, -10px, 0); /* Updated to translate3d */
        box-shadow: 0 10px 20px rgba(52, 21, 57, 0.15);

        .genre-icon-img {
          filter: none;
          transform: scale(1.1);
        }
      }
    }
  }
}

@keyframes scroll-infinite {
  0% {
    transform: translate3d(0, 0, 0); /* Updated to translate3d */
  }
  100% {
    transform: translate3d(calc(-50% - 15px), 0, 0); /* Updated to translate3d */
  }
}

/* Mobile Fixes */
@media (max-width: 768px) {
  .genre-item {
    min-width: 130px;
    padding: 15px 10px;
    border-width: 2px;

    h4 {
      font-size: 1.1rem;
    }

    .genre-desc {
      font-size: 0.75rem;
    }

    .icon-wrapper .genre-icon-img {
      width: 40px;
      height: 40px;
    }
  }
}